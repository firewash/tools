<!DOCTYPE html>
<html>
<head>
    <title>截图监控</title>
    <link rel="stylesheet" href="/public/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="/public/bootstrap/bootstrap-theme.min.css">
    <script src="/public/js/jquery.js"></script>
    <script src="/public/bootstrap/bootstrap.min.js"></script>
    <link rel='stylesheet' href='/public/stylesheets/style.css' />
    <style>
        img{
            margin:5px;
            display:block;
        }
        .wraper{
            display:block ;
            white-space: nowrap;
            position: relative;
        }
        .old-capture{
            position:absolute;
            left:50%;
            top:0;
            width:50%;
            vertical-align: top;
        }
        .new-capture{
            position:absolute;
            left:0;
            top:0;
            width:50%;
            vertical-align: top;
        }
        .current-capture{
           position:absolute;
            left:0;
            top:0;
            width:100%;
            display:block;
        }
        .current-capture h2{
            opacity:1;
            transition:opacity 0.5s;
        }
        .marked{
            position:absolute;
            left:0;
            top:0;
            width:100%;
            display:block;
            opacity:0;
            transition:opacity 0.5s;
        }

        .new-capture.showmark .marked{
            opacity:1;
        }
        .new-capture.showmark .current-capture h2{
            opacity:0;
        }

        #config{
            position: fixed;
            right:10px;
            top:10px;
            z-index: 2;;
        }
        #config button{
            width:100px;
            height:100px;
            cursor:pointer;;
        }
    </style>
</head>
<body>
<div class="page-header">
    <h1><%= title %></h1>
</div>

<div class="page-wraper">
    <div class="panel panel-default">
        <div class="panel-heading">
            摘要
        </div>
        <div>
            采样时间: <%= time %>;<br>
            差异率:<%=  diffratio %><br>
            
        </div>
    </div>
</div>

<div id="config">
    <button id="showmark_btn" title="可以显示或隐藏当前截图上的差异标记" accesskey="1">
        <p>显示或隐藏</p>
        <p>(Alt+ 1)</p>
    </button>
</div>
<div class="wraper">
    <div class="new-capture ">
        <div class="current-capture">
            <h2>本次采样</h2>
            <img src="<%= origin_img %>" class="img-thumbnail"/>
        </div>
        <div class="marked">
            <h2>本次采样 - 显示差异</h2>
            <img src="<%= diff_img %>" class="img-thumbnail"/>
        </div>
    </div>

    <% if(has_diffwith_img && !is_similar){ %>
    <div class="old-capture ">
        <h2>上次采样：</h2>
        <img src="<%= diffwith_img %>" class="img-thumbnail"/>
    </div>
    <%}%>
</div>
</body>
<script>
    var showMarkNow = false;
    var accesskey_msg="<p>( Alt + 1 )</p>";

    function showMark(willShow){
        if(willShow){
            $(".new-capture").addClass("showmark");
            $("#showmark_btn").html("点击隐藏差异"+accesskey_msg);
        }else{
            $(".new-capture").removeClass("showmark");
            $("#showmark_btn").html("<p>点击显示差异</p>"+accesskey_msg);
        }
        showMarkNow = willShow;
    }

    $(function(){
        showMark(showMarkNow);
        $("#showmark_btn").click(function(e){
            showMark(!showMarkNow);
        });
    });

</script>
</html>
